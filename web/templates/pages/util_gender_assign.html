{{define "content"}}
    {{template "util_layout" .}}
{{end}}

{{define "util_body"}}
    <div class="side-action-btn {{if not .Items}}hidden{{end}}">
        <button onclick="assignGender('M')" 
                class="btn btn-primary btn-lg w-20 md:w-28 h-64 md:h-80 text-4xl shadow-2xl rounded-3xl transition-transform active:scale-95">
            M
        </button>
    </div>
    
    <div id="contact-deck" class="w-full max-w-md px-4 text-center">
        {{if .Items}}
            {{range $index, $c := .Items}}
            <div class="util-card {{if ne $index 0}}hidden{{end}} card bg-base-100 shadow-xl border border-base-300 mx-auto" 
                 data-id="{{$c.ID}}">
                <figure class="px-10 pt-10">
                    <div class="avatar {{if not $c.AvatarBase64}}placeholder{{end}}">
                        <div class="w-32 rounded-full ring ring-primary ring-offset-base-100 ring-offset-2">
                            {{if $c.AvatarBase64}}
                                <img src="data:image/jpeg;base64,{{$c.AvatarBase64}}" />
                            {{else}}
                                <span class="text-4xl font-bold">{{initial $c.FullName}}</span>
                            {{end}}
                        </div>
                    </div>
                </figure>
                <div class="card-body items-center">
                    <h2 class="card-title text-3xl font-black mb-1">{{$c.FullName}}</h2>
                    <p class="text-xs opacity-40 uppercase tracking-widest mb-6 font-bold">Assign Gender</p>
                    
                    <div class="card-actions justify-center w-full mt-auto">
                        <button onclick="UtilCommon.showNext(this.closest('.util-card'))" 
                                class="btn btn-ghost btn-sm opacity-50 hover:opacity-100 font-bold uppercase tracking-tighter">
                            Skip Contact
                        </button>
                    </div>
                </div>
            </div>
            {{end}}
        {{else}}
            <script>document.addEventListener('DOMContentLoaded', () => UtilCommon.showFinishedState())</script>
        {{end}}
    </div>

    <div class="side-action-btn {{if not .Items}}hidden{{end}}">
        <button onclick="assignGender('F')" 
                class="btn btn-secondary btn-lg w-20 md:w-28 h-64 md:h-80 text-4xl shadow-2xl rounded-3xl transition-transform active:scale-95">
            F
        </button>
    </div>
{{end}}

{{define "scripts"}}
<script src="/static/js/util-common.js"></script>
<script src="/static/js/util-gender.js"></script>
{{end}}